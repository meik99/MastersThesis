\subsection{OpenShift infrastructure}\label{subsec:openshift-infrastructure}

These group of tasks manage the creation and configuration of an OpenShift infrastructure.
This infrastructure can then be used to test the releases for the marketplaces using CSVs and OLM.
In general these tasks do not have to run for every release, but can be used to debug one should errors arise.

\begin{figure}[H]
    \centering
    \includegraphics[width=\textwidth]{img/implementation/openshift}
    \caption{Pipeline to maintain OpenShift infrastructure}
    \label{fig:pipeline-to-maintain-openshift-infrastructure}
\end{figure}

In figure~\ref{fig:pipeline-to-maintain-openshift-infrastructure} the structure of these tasks is displayed.
Since they can run independently of the main release tasks, they are detached from them.
At the start of the pipeline, the OpenShift cluster is created.
Then the releases for the marketplaces using CSVs can be tested.
Since not all four releases using CSVs are different, only two types of tests exist.
Afterwards, the infrastructure can be destroyed again.

\input{chapters/implementation/release-pipeline/prepare-openshift-infrastructure}

\input{chapters/implementation/release-pipeline/deploy-openshift-cluster}

\input{chapters/implementation/release-pipeline/configure-openshift-cluster}

\pagebreak

\input{chapters/implementation/release-pipeline/configure-openshift-pipeline}

\pagebreak

\input{chapters/implementation/release-pipeline/test-certified-operators}

\input{chapters/implementation/release-pipeline/test-redhat-marketplace-operators}

\input{chapters/implementation/release-pipeline/destroy-openshift-cluster}

\input{chapters/implementation/release-pipeline/cleanup-openshift-infrastructure}